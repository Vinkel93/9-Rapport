\begin{tikzpicture} [scale=0.67,transform shape]

\draw  (4.5,1.5) rectangle (7,-0.5);
%\node at (5.7,0.25) {Controller};
\node at (5.7,0.50) {System};

\draw  (-2,0) rectangle (0,-1);
\node at (-1,-0.5) {Model};

\draw  (-2,2) rectangle (0,1);
\node at (-1,1.5) {Optimizer};

\draw[dashed] (-5,4.5) rectangle (3,-1.5);

\draw[dashed]  (-4.5,3.5) rectangle (-2.5,2.5);
\node at (-3.5,3) {Obj-function};

\draw[dashed]  (0.5,3.5) rectangle (2.5,2.5);
\node at (1.5,3) {Constraints};

\draw[-triangle 60] (-4.25,0.75)-- (-4.25,1.5) -- (-2,1.5);
\draw[-triangle 60] (0.5,3)-- (-0.5,3) -- (-0.5,2);

\draw[-triangle 60] (2,0.5) -- (4.5,0.5);
\draw[-triangle 60] (7,0.5) -- (9.5,0.5);

\draw[-triangle 60] (-2.5,3)-- (-1.5,3) -- (-1.5,2);
%\draw[-triangle 60] (-5.5,0.5) -- (-4.5,0.5);

\draw[-triangle 60] (0,1.5) -- (2,1.5) -- (2,-0.5) -- (0,-0.5);
\draw[-triangle 60] (8,0.5) -- (8,-2) -- (-1,-2) -- (-1,-1);

\draw[-] (-2,-0.5) -- (-4.25,-0.5) -- (-4.25,0.75);

%\node at (-5.5,1) {$CP_{ref}$};
\node at (8.5,1) {$\bm{y}$};
\node at (0.5,2) {$\bm{u}_{Hp}$};
\node at (-2.5,0) {$\bm{y}_{Hp}$};
%\node at (-2.5,2) {$\widetilde{e}$};
\node at (3.7762,1) {$\bm{u}_{Hp}[k|k]$};
\node at (-1,4) {\textbf{MPC}};

%\draw  (-4.25,0.5) ellipse (0.25 and 0.25);
\draw[fill]  (2,0.5) ellipse (0.1 and 0.1);
\end{tikzpicture}%
